{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\front-end\\\\afm2\\\\src\\\\component\\\\Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport * as yup from \"yup\";\nimport axiosWithAuth from \"../axiosWithAxios/axiosWithAxios\";\nimport \"./form.css\";\nconst initialFormR = {\n  username: \"\",\n  password: \"\"\n};\nconst initialWarningE = {\n  username: \"Username is a required field\",\n  password: \"Password is a required field\"\n};\nconst schemaFormR = yup.object().shape({\n  username: yup.string().trim().min(3, \"Username must be at least 3 characters\").required(\"Username is a required field\"),\n  password: yup.string().trim().min(6, \"Password must be at least 6 characters\").required(\"Password is a required field\")\n});\n\nconst Register = props => {\n  const [registerU, setregisterU] = useState(initialFormR);\n  const [ErrorsR, setErrorsR] = useState(initialWarningE);\n  const [buttonE, setbuttonE] = useState(false);\n  useEffect(() => {\n    schemaFormR.isValid(registerU).then(valid => {\n      setbuttonE(valid);\n    });\n  }, [registerU]);\n\n  const onChange = e => {\n    e.persist();\n    setregisterU({ ...registerU,\n      [e.target.name]: e.target.value\n    });\n    yup.reach(schemaFormR, e.target.name).validate(e.target.value).then(valid => {\n      setErrorsR({ ...ErrorsR,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrorsR({ ...ErrorsR,\n        [e.target.name]: err.errors[0]\n      });\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    axiosWithAuth().post(\"https://african-marketplace-rd.herokuapp.com/api/auth/register\", registerU).then(res => {\n      console.log(res.data);\n      setregisterU({\n        username: \"\",\n        password: \"\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Username:\\xA0\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Write username here\",\n    onChange: onChange,\n    type: \"text\",\n    name: \"username\",\n    value: registerU.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Password:\\xA0\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Write password here\",\n    onChange: onChange,\n    type: \"password\",\n    name: \"password\",\n    value: registerU.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Button\",\n    disabled: !buttonE,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \" \", \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \" \", ErrorsR.username, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, \" \", ErrorsR.password, \" \"))));\n};\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/User/Desktop/front-end/afm2/src/component/Login.js"],"names":["React","useState","useEffect","yup","axiosWithAuth","initialFormR","username","password","initialWarningE","schemaFormR","object","shape","string","trim","min","required","Register","props","registerU","setregisterU","ErrorsR","setErrorsR","buttonE","setbuttonE","isValid","then","valid","onChange","e","persist","target","name","value","reach","validate","catch","err","errors","onSubmit","preventDefault","post","res","console","log","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAO,YAAP;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,QAAQ,EAAE;AAFS,CAArB;AAKA,MAAMC,eAAe,GAAG;AACtBF,EAAAA,QAAQ,EAAE,8BADY;AAEtBC,EAAAA,QAAQ,EAAE;AAFY,CAAxB;AAKA,MAAME,WAAW,GAAGN,GAAG,CAACO,MAAJ,GAAaC,KAAb,CAAmB;AACrCL,EAAAA,QAAQ,EAAEH,GAAG,CACVS,MADO,GAEPC,IAFO,GAGPC,GAHO,CAGH,CAHG,EAGA,wCAHA,EAIPC,QAJO,CAIE,8BAJF,CAD2B;AAMrCR,EAAAA,QAAQ,EAAEJ,GAAG,CACVS,MADO,GAEPC,IAFO,GAGPC,GAHO,CAGH,CAHG,EAGA,wCAHA,EAIPC,QAJO,CAIE,8BAJF;AAN2B,CAAnB,CAApB;;AAaA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BlB,QAAQ,CAACI,YAAD,CAA1C;AAEA,QAAM,CAACe,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAACO,eAAD,CAAtC;AAEA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBtB,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,WAAW,CAACe,OAAZ,CAAoBN,SAApB,EAA+BO,IAA/B,CAAqCC,KAAD,IAAW;AAC7CH,MAAAA,UAAU,CAACG,KAAD,CAAV;AACD,KAFD;AAGD,GAJQ,EAIN,CAACR,SAAD,CAJM,CAAT;;AAMA,QAAMS,QAAQ,GAAIC,CAAD,IAAO;AACtBA,IAAAA,CAAC,CAACC,OAAF;AAEAV,IAAAA,YAAY,CAAC,EAAE,GAAGD,SAAL;AAAgB,OAACU,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AAA1C,KAAD,CAAZ;AAEA7B,IAAAA,GAAG,CACA8B,KADH,CACSxB,WADT,EACsBmB,CAAC,CAACE,MAAF,CAASC,IAD/B,EAEGG,QAFH,CAEYN,CAAC,CAACE,MAAF,CAASE,KAFrB,EAGGP,IAHH,CAGSC,KAAD,IAAW;AACfL,MAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAc,SAACQ,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiB;AAA/B,OAAD,CAAV;AACD,KALH,EAMGI,KANH,CAMUC,GAAD,IAAS;AACdf,MAAAA,UAAU,CAAC,EAAE,GAAGD,OAAL;AAAc,SAACQ,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBK,GAAG,CAACC,MAAJ,CAAW,CAAX;AAA/B,OAAD,CAAV;AACD,KARH;AASD,GAdD;;AAgBA,QAAMC,QAAQ,GAAIV,CAAD,IAAO;AACtBA,IAAAA,CAAC,CAACW,cAAF;AACAnC,IAAAA,aAAa,GACVoC,IADH,CAEI,gEAFJ,EAGItB,SAHJ,EAKGO,IALH,CAKSgB,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAzB,MAAAA,YAAY,CAAC;AACXb,QAAAA,QAAQ,EAAE,EADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC,OAAD,CAAZ;AAID,KAXH;AAYD,GAdD;;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,QAAQ,EAAE+B,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AACE,IAAA,WAAW,EAAC,qBADd;AAEE,IAAA,QAAQ,EAAEX,QAFZ;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAET,SAAS,CAACZ,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAVF,eAWE;AACE,IAAA,WAAW,EAAC,qBADd;AAEE,IAAA,QAAQ,EAAEqB,QAFZ;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAET,SAAS,CAACX,QALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAmBE;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAA2B,IAAA,QAAQ,EAAE,CAACe,OAAtC;AAA+C,IAAA,IAAI,EAAC,QAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,aAnBF,eAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOF,OAAO,CAACd,QAAf,MAvBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOc,OAAO,CAACb,QAAf,MAxBF,CADF,CAFF,CADF;AAiCD,CA9ED;;AAgFA,eAAeS,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as yup from \"yup\";\r\nimport axiosWithAuth from \"../axiosWithAxios/axiosWithAxios\";\r\nimport \"./form.css\";\r\n\r\nconst initialFormR = {\r\n  username: \"\",\r\n  password: \"\",\r\n};\r\n\r\nconst initialWarningE = {\r\n  username: \"Username is a required field\",\r\n  password: \"Password is a required field\",\r\n};\r\n\r\nconst schemaFormR = yup.object().shape({\r\n  username: yup\r\n    .string()\r\n    .trim()\r\n    .min(3, \"Username must be at least 3 characters\")\r\n    .required(\"Username is a required field\"),\r\n  password: yup\r\n    .string()\r\n    .trim()\r\n    .min(6, \"Password must be at least 6 characters\")\r\n    .required(\"Password is a required field\"),\r\n});\r\n\r\nconst Register = (props) => {\r\n  const [registerU, setregisterU] = useState(initialFormR);\r\n\r\n  const [ErrorsR, setErrorsR] = useState(initialWarningE);\r\n\r\n  const [buttonE, setbuttonE] = useState(false);\r\n\r\n  useEffect(() => {\r\n    schemaFormR.isValid(registerU).then((valid) => {\r\n      setbuttonE(valid);\r\n    });\r\n  }, [registerU]);\r\n\r\n  const onChange = (e) => {\r\n    e.persist();\r\n\r\n    setregisterU({ ...registerU, [e.target.name]: e.target.value });\r\n\r\n    yup\r\n      .reach(schemaFormR, e.target.name)\r\n      .validate(e.target.value)\r\n      .then((valid) => {\r\n        setErrorsR({ ...ErrorsR, [e.target.name]: \"\" });\r\n      })\r\n      .catch((err) => {\r\n        setErrorsR({ ...ErrorsR, [e.target.name]: err.errors[0] });\r\n      });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    axiosWithAuth()\r\n      .post(\r\n        \"https://african-marketplace-rd.herokuapp.com/api/auth/register\",\r\n        registerU\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setregisterU({\r\n          username: \"\",\r\n          password: \"\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1></h1>\r\n      <form onSubmit={onSubmit}>\r\n        <div className=\"form\">\r\n          <label>Username:&nbsp;</label>\r\n          <input\r\n            placeholder=\"Write username here\"\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={registerU.username}\r\n          />\r\n\r\n          <label>Password:&nbsp;</label>\r\n          <input\r\n            placeholder=\"Write password here\"\r\n            onChange={onChange}\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={registerU.password}\r\n          />\r\n\r\n          <button className=\"Button\" disabled={!buttonE} type=\"submit\">\r\n            {\" \"}\r\n            Register\r\n          </button>\r\n          <div> {ErrorsR.username} </div>\r\n          <div> {ErrorsR.password} </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}